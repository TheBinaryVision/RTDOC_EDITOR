{"ast":null,"code":"var _jsxFileName = \"C:\\\\Internship Project\\\\RTDOC_EDITOR\\\\client\\\\src\\\\components\\\\TextEditor.js\";\n// TextEditor.jsx\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Quill from \"quill\";\nimport \"quill/dist/quill.snow.css\";\nimport { io } from \"socket.io-client\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport toast from \"react-hot-toast\";\nimport QuillCursors from \"quill-cursors\";\n\n// Register cursor module\nQuill.register(\"modules/cursors\", QuillCursors);\n\n// Toolbar options\nconst TOOLBAR_OPTIONS = [[{\n  header: [1, 2, 3, false]\n}], [\"bold\", \"italic\", \"underline\", \"strike\"], [{\n  list: \"ordered\"\n}, {\n  list: \"bullet\"\n}], [{\n  indent: \"-1\"\n}, {\n  indent: \"+1\"\n}], [{\n  color: []\n}, {\n  background: []\n}], [\"code-block\"], [\"clean\"]];\n\n// Helper function to assign a consistent color to each username\nconst getColorForUsername = name => {\n  let hash = 0;\n  for (let i = 0; i < name.length; i++) {\n    hash = name.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  return `hsl(${hash % 360}, 70%, 50%)`;\n};\nconst SAVE_INTERVAL_MS = 2000;\nconst TextEditor = () => {\n  const wrapperRef = useRef(null);\n  const [socket, setSocket] = useState(null);\n  const [quill, setQuill] = useState(null);\n  const [darkMode, setDarkMode] = useState(false);\n  const [activeUsers, setActiveUsers] = useState(1);\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const [documentTitle, setDocumentTitle] = useState(\"Untitled Document\");\n  const [username, setUsername] = useState(\"\");\n  const [saveStatus, setSaveStatus] = useState(\"All changes saved\");\n\n  // Generate unique document ID\n  const docId = window.location.pathname.split(\"/docs/\")[1];\n\n  // Prompt user for their name on mount\n  useEffect(() => {\n    const name = prompt(\"Enter your name:\");\n    setUsername(name || \"Anonymous\");\n  }, []);\n\n  // Setup socket connection\n  useEffect(() => {\n    const s = io(\"http://localhost:5000\"); // Update URL if deployed\n    setSocket(s);\n    return () => s.disconnect();\n  }, []);\n\n  // Join document room after username & socket are ready\n  useEffect(() => {\n    if (socket && username) {\n      socket.emit(\"join-room\", {\n        docId,\n        username\n      });\n    }\n  }, [socket, username, docId]);\n\n  // Load initial document content\n  useEffect(() => {\n    if (socket == null || quill == null) return;\n    socket.once(\"load-document\", document => {\n      quill.setContents(document);\n      quill.enable();\n    });\n    socket.emit(\"get-document\", docId);\n  }, [socket, quill, docId]);\n\n  // Receive document updates from others\n  useEffect(() => {\n    if (!socket || !quill) return;\n    const handler = delta => quill.updateContents(delta);\n    socket.on(\"receive-changes\", handler);\n    return () => socket.off(\"receive-changes\", handler);\n  }, [socket, quill]);\n\n  // Emit changes made by the user\n  useEffect(() => {\n    if (!socket || !quill) return;\n    const handler = (delta, oldDelta, source) => {\n      if (source !== \"user\") return;\n      socket.emit(\"send-changes\", delta);\n    };\n    quill.on(\"text-change\", handler);\n    return () => quill.off(\"text-change\", handler);\n  }, [socket, quill]);\n\n  // Autosave document every 2 seconds\n  useEffect(() => {\n    if (!socket || !quill) return;\n    const interval = setInterval(() => {\n      socket.emit(\"save-document\", quill.getContents());\n      setSaveStatus(\"Saving...\");\n      setTimeout(() => setSaveStatus(\"All changes saved\"), 800);\n      toast.success(\"Document saved\", {\n        duration: 1500,\n        style: {\n          background: darkMode ? \"#1f2937\" : \"#ffffff\",\n          color: darkMode ? \"#f9fafb\" : \"#111827\",\n          borderRadius: \"10px\",\n          boxShadow: \"0 4px 14px rgba(0,0,0,0.1)\"\n        }\n      });\n    }, SAVE_INTERVAL_MS);\n    return () => clearInterval(interval);\n  }, [socket, quill, darkMode]);\n\n  // Track number of active users\n  useEffect(() => {\n    if (!socket) return;\n    socket.on(\"active-users\", count => setActiveUsers(count));\n    socket.on(\"user-list\", users => setOnlineUsers(users));\n    return () => {\n      socket.off(\"active-users\");\n      socket.off(\"user-list\");\n    };\n  }, [socket]);\n\n  // Setup and render Quill editor\n  useEffect(() => {\n    const editorDiv = document.createElement(\"div\");\n    wrapperRef.current.innerHTML = \"\";\n    wrapperRef.current.append(editorDiv);\n    const q = new Quill(editorDiv, {\n      theme: \"snow\",\n      modules: {\n        toolbar: TOOLBAR_OPTIONS,\n        cursors: true,\n        history: {\n          userOnly: true\n        }\n      }\n    });\n    q.disable();\n    q.setText(\"Loading document...\");\n    setQuill(q);\n  }, []);\n\n  // Real-time cursor sharing\n  useEffect(() => {\n    if (!socket || !quill || !username) return;\n    const cursors = quill.getModule(\"cursors\");\n    socket.on(\"receive-cursor\", ({\n      socketId,\n      range,\n      username,\n      color\n    }) => {\n      if (socket.id === socketId) return;\n      cursors.createCursor(socketId, username, color);\n      cursors.moveCursor(socketId, range);\n    });\n    quill.on(\"selection-change\", (range, oldRange, source) => {\n      if (range && source === \"user\") {\n        socket.emit(\"send-cursor\", {\n          range,\n          username,\n          color: getColorForUsername(username),\n          docId\n        });\n      }\n    });\n    return () => {\n      socket.off(\"receive-cursor\");\n      cursors.clearCursors();\n    };\n  }, [socket, quill, username, docId]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${darkMode ? \"dark bg-zinc-900 text-white\" : \"bg-white text-black\"} min-h-screen p-6`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-sm text-gray-500 dark:text-gray-400 italic mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }\n  }, saveStatus), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap gap-2 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }\n  }, onlineUsers.map((user, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    className: \"px-2 py-1 bg-indigo-600 text-white text-sm rounded-full shadow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 11\n    }\n  }, \"\\uD83E\\uDDD1 \", user))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col md:flex-row justify-between md:items-center mb-6 gap-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: documentTitle,\n    onChange: e => setDocumentTitle(e.target.value),\n    className: \"text-2xl font-semibold bg-transparent border-b-2 border-gray-300 focus:outline-none focus:border-indigo-500 dark:text-white\",\n    placeholder: \"Enter Document Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center space-x-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-sm px-3 py-1 rounded-full bg-green-500 text-white font-medium shadow-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, \"\\uD83D\\uDFE2 \", activeUsers, \" online\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setDarkMode(!darkMode),\n    className: \"bg-gray-800 text-white px-4 py-2 rounded-md shadow hover:bg-gray-700 transition-all dark:bg-gray-200 dark:text-black dark:hover:bg-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 11\n    }\n  }, darkMode ? \"‚òÄÔ∏è Light Mode\" : \"üåô Dark Mode\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4 text-sm px-3 py-1 rounded-full bg-blue-600 text-white font-medium shadow-md inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }\n  }, \"\\uD83D\\uDC64 \", username), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white dark:bg-zinc-800 rounded-xl shadow-lg overflow-hidden transition-all\",\n    ref: wrapperRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }\n  }));\n};\nexport default TextEditor;","map":{"version":3,"names":["React","useEffect","useRef","useState","Quill","io","v4","uuidv4","toast","QuillCursors","register","TOOLBAR_OPTIONS","header","list","indent","color","background","getColorForUsername","name","hash","i","length","charCodeAt","SAVE_INTERVAL_MS","TextEditor","wrapperRef","socket","setSocket","quill","setQuill","darkMode","setDarkMode","activeUsers","setActiveUsers","onlineUsers","setOnlineUsers","documentTitle","setDocumentTitle","username","setUsername","saveStatus","setSaveStatus","docId","window","location","pathname","split","prompt","s","disconnect","emit","once","document","setContents","enable","handler","delta","updateContents","on","off","oldDelta","source","interval","setInterval","getContents","setTimeout","success","duration","style","borderRadius","boxShadow","clearInterval","count","users","editorDiv","createElement","current","innerHTML","append","q","theme","modules","toolbar","cursors","history","userOnly","disable","setText","getModule","socketId","range","id","createCursor","moveCursor","oldRange","clearCursors","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","user","key","type","value","onChange","e","target","placeholder","onClick","ref"],"sources":["C:/Internship Project/RTDOC_EDITOR/client/src/components/TextEditor.js"],"sourcesContent":["// TextEditor.jsx\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport Quill from \"quill\";\r\nimport \"quill/dist/quill.snow.css\";\r\nimport { io } from \"socket.io-client\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport toast from \"react-hot-toast\";\r\nimport QuillCursors from \"quill-cursors\";\r\n\r\n// Register cursor module\r\nQuill.register(\"modules/cursors\", QuillCursors);\r\n\r\n// Toolbar options\r\nconst TOOLBAR_OPTIONS = [\r\n  [{ header: [1, 2, 3, false] }],\r\n  [\"bold\", \"italic\", \"underline\", \"strike\"],\r\n  [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n  [{ indent: \"-1\" }, { indent: \"+1\" }],\r\n  [{ color: [] }, { background: [] }],\r\n  [\"code-block\"],\r\n  [\"clean\"],\r\n];\r\n\r\n// Helper function to assign a consistent color to each username\r\nconst getColorForUsername = (name) => {\r\n  let hash = 0;\r\n  for (let i = 0; i < name.length; i++) {\r\n    hash = name.charCodeAt(i) + ((hash << 5) - hash);\r\n  }\r\n  return `hsl(${hash % 360}, 70%, 50%)`;\r\n};\r\n\r\nconst SAVE_INTERVAL_MS = 2000;\r\n\r\nconst TextEditor = () => {\r\n  const wrapperRef = useRef(null);\r\n  const [socket, setSocket] = useState(null);\r\n  const [quill, setQuill] = useState(null);\r\n  const [darkMode, setDarkMode] = useState(false);\r\n  const [activeUsers, setActiveUsers] = useState(1);\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n  const [documentTitle, setDocumentTitle] = useState(\"Untitled Document\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [saveStatus, setSaveStatus] = useState(\"All changes saved\");\r\n\r\n  // Generate unique document ID\r\n  const docId = window.location.pathname.split(\"/docs/\")[1];\r\n\r\n  // Prompt user for their name on mount\r\n  useEffect(() => {\r\n    const name = prompt(\"Enter your name:\");\r\n    setUsername(name || \"Anonymous\");\r\n  }, []);\r\n\r\n  // Setup socket connection\r\n  useEffect(() => {\r\n    const s = io(\"http://localhost:5000\"); // Update URL if deployed\r\n    setSocket(s);\r\n\r\n    return () => s.disconnect();\r\n  }, []);\r\n\r\n  // Join document room after username & socket are ready\r\n  useEffect(() => {\r\n    if (socket && username) {\r\n      socket.emit(\"join-room\", { docId, username });\r\n    }\r\n  }, [socket, username, docId]);\r\n\r\n  // Load initial document content\r\n  useEffect(() => {\r\n    if (socket == null || quill == null) return;\r\n\r\n    socket.once(\"load-document\", (document) => {\r\n      quill.setContents(document);\r\n      quill.enable();\r\n    });\r\n\r\n    socket.emit(\"get-document\", docId);\r\n  }, [socket, quill, docId]);\r\n\r\n  // Receive document updates from others\r\n  useEffect(() => {\r\n    if (!socket || !quill) return;\r\n\r\n    const handler = (delta) => quill.updateContents(delta);\r\n    socket.on(\"receive-changes\", handler);\r\n\r\n    return () => socket.off(\"receive-changes\", handler);\r\n  }, [socket, quill]);\r\n\r\n  // Emit changes made by the user\r\n  useEffect(() => {\r\n    if (!socket || !quill) return;\r\n\r\n    const handler = (delta, oldDelta, source) => {\r\n      if (source !== \"user\") return;\r\n      socket.emit(\"send-changes\", delta);\r\n    };\r\n\r\n    quill.on(\"text-change\", handler);\r\n    return () => quill.off(\"text-change\", handler);\r\n  }, [socket, quill]);\r\n\r\n  // Autosave document every 2 seconds\r\n  useEffect(() => {\r\n    if (!socket || !quill) return;\r\n\r\n    const interval = setInterval(() => {\r\n      socket.emit(\"save-document\", quill.getContents());\r\n      setSaveStatus(\"Saving...\");\r\n\r\n      setTimeout(() => setSaveStatus(\"All changes saved\"), 800);\r\n\r\n      toast.success(\"Document saved\", {\r\n        duration: 1500,\r\n        style: {\r\n          background: darkMode ? \"#1f2937\" : \"#ffffff\",\r\n          color: darkMode ? \"#f9fafb\" : \"#111827\",\r\n          borderRadius: \"10px\",\r\n          boxShadow: \"0 4px 14px rgba(0,0,0,0.1)\",\r\n        },\r\n      });\r\n    }, SAVE_INTERVAL_MS);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [socket, quill, darkMode]);\r\n\r\n  // Track number of active users\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    socket.on(\"active-users\", (count) => setActiveUsers(count));\r\n    socket.on(\"user-list\", (users) => setOnlineUsers(users));\r\n\r\n    return () => {\r\n      socket.off(\"active-users\");\r\n      socket.off(\"user-list\");\r\n    };\r\n  }, [socket]);\r\n\r\n  // Setup and render Quill editor\r\n  useEffect(() => {\r\n    const editorDiv = document.createElement(\"div\");\r\n    wrapperRef.current.innerHTML = \"\";\r\n    wrapperRef.current.append(editorDiv);\r\n\r\n    const q = new Quill(editorDiv, {\r\n      theme: \"snow\",\r\n      modules: {\r\n        toolbar: TOOLBAR_OPTIONS,\r\n        cursors: true,\r\n        history: { userOnly: true },\r\n      },\r\n    });\r\n\r\n    q.disable();\r\n    q.setText(\"Loading document...\");\r\n    setQuill(q);\r\n  }, []);\r\n\r\n  // Real-time cursor sharing\r\n  useEffect(() => {\r\n    if (!socket || !quill || !username) return;\r\n\r\n    const cursors = quill.getModule(\"cursors\");\r\n\r\n    socket.on(\"receive-cursor\", ({ socketId, range, username, color }) => {\r\n      if (socket.id === socketId) return;\r\n      cursors.createCursor(socketId, username, color);\r\n      cursors.moveCursor(socketId, range);\r\n    });\r\n\r\n    quill.on(\"selection-change\", (range, oldRange, source) => {\r\n      if (range && source === \"user\") {\r\n        socket.emit(\"send-cursor\", {\r\n          range,\r\n          username,\r\n          color: getColorForUsername(username),\r\n          docId,\r\n        });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"receive-cursor\");\r\n      cursors.clearCursors();\r\n    };\r\n  }, [socket, quill, username, docId]);\r\n\r\n  return (\r\n    <div className={`${darkMode ? \"dark bg-zinc-900 text-white\" : \"bg-white text-black\"} min-h-screen p-6`}>\r\n      {/* Save Status */}\r\n      <div className=\"text-sm text-gray-500 dark:text-gray-400 italic mb-3\">{saveStatus}</div>\r\n\r\n      {/* Online users list */}\r\n      <div className=\"flex flex-wrap gap-2 mb-4\">\r\n        {onlineUsers.map((user, i) => (\r\n          <div key={i} className=\"px-2 py-1 bg-indigo-600 text-white text-sm rounded-full shadow\">\r\n            üßë {user}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Title and controls */}\r\n      <div className=\"flex flex-col md:flex-row justify-between md:items-center mb-6 gap-3\">\r\n        <input\r\n          type=\"text\"\r\n          value={documentTitle}\r\n          onChange={(e) => setDocumentTitle(e.target.value)}\r\n          className=\"text-2xl font-semibold bg-transparent border-b-2 border-gray-300 focus:outline-none focus:border-indigo-500 dark:text-white\"\r\n          placeholder=\"Enter Document Title\"\r\n        />\r\n        <div className=\"flex items-center space-x-4\">\r\n          <div className=\"text-sm px-3 py-1 rounded-full bg-green-500 text-white font-medium shadow-md\">\r\n            üü¢ {activeUsers} online\r\n          </div>\r\n          <button\r\n            onClick={() => setDarkMode(!darkMode)}\r\n            className=\"bg-gray-800 text-white px-4 py-2 rounded-md shadow hover:bg-gray-700 transition-all dark:bg-gray-200 dark:text-black dark:hover:bg-gray-300\"\r\n          >\r\n            {darkMode ? \"‚òÄÔ∏è Light Mode\" : \"üåô Dark Mode\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Your name */}\r\n      <div className=\"mb-4 text-sm px-3 py-1 rounded-full bg-blue-600 text-white font-medium shadow-md inline-block\">\r\n        üë§ {username}\r\n      </div>\r\n\r\n      {/* Editor */}\r\n      <div\r\n        className=\"bg-white dark:bg-zinc-800 rounded-xl shadow-lg overflow-hidden transition-all\"\r\n        ref={wrapperRef}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextEditor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}